{"version":3,"sources":["webpack:///rdata.js","webpack:///webpack/bootstrap 0f497dc3d0a06c9119f3","webpack:///external \"riot\"","webpack:///./src/helper.js","webpack:///./src/index.js","webpack:///./src/tags nonrecursive \\.tag$","webpack:///./src/tags/rdata-display.tag","webpack:///./src/tags/rdata-filter.tag","webpack:///./src/tags/rdata-order.tag","webpack:///./src/tags/rdata-paginator.tag","webpack:///./src/tags/rdata.tag"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","riot","canInput","element","tagName","indexOf","type","getBoolOrLowerCase","val","toString","toLowerCase","getUrlParams","params","this","page","display","order","push","encodeURIComponent","rel","asc","filters","size","forEach","key","Array","isArray","map","join","setIndex","current","index","start","sort","a","b","first","second","value","context","keys","webpackContext","req","webpackContextResolve","id","Error","./rdata-display.tag","./rdata-filter.tag","./rdata-order.tag","./rdata-paginator.tag","./rdata.tag","resolve","tag2","opts","self","auto","change","e","parent","trigger","parseInt","target","update","on","isMounted","root","childElementCount","displays","defaultDisplays","filter","query","length","isAny","isRemote","multiple","has","set","onfilter","filtered","bind","caseSensitive","undefined","item","_val","q","_helper","values","find","includes","setQuery","initialValue","querySelectorAll","option","selected","checked","trim","onchange","done","oninput","timeout","clearTimeout","setTimeout","delay","concat","data","addEventListener","off","emit","unmount","arguments","ignore","getRel","desc","onorder","toggle","preventDefault","pages","canNext","count","canPrev","go","isNaN","shift","isCurrent","last","next","prev","rows","Math","ceil","apply","loadUrl","loading","url","request","readyState","abort","XMLHttpRequest","open","responseType","onload","response","total_count","setLastPage","event","extra","items","send","then","Map","getRows","singular","plural","separator","clear","indexed","slice"],"mappings":"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","file":"rdata.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = riot;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction canInput(element) {\n  return element.tagName === 'INPUT' && ['email', 'number', 'password', 'search', 'tel', 'text', 'url'].indexOf(element.type) > -1;\n}\n\nfunction getBoolOrLowerCase(val) {\n  return typeof val === 'boolean' ? val : val.toString().toLowerCase();\n}\n\nfunction getUrlParams() {\n  var params = ['page=' + this.page, 'display=' + this.display];\n\n  if (this.order !== null) {\n    params.push('order=' + encodeURIComponent(this.order.rel + ' ' + (this.order.asc ? 'asc' : 'desc')));\n  }\n\n  if (this.filters.size > 0) {\n    this.filters.forEach(function (val, key) {\n      if (Array.isArray(val)) {\n        params.push('filters[][' + encodeURIComponent(key) + '][]=' + val.map(encodeURIComponent).join('&filters[][' + encodeURIComponent(key) + '][]='));\n      } else {\n        params.push('filters[][' + encodeURIComponent(key) + ']' + (val === true ? '' : '=' + encodeURIComponent(val)));\n      }\n    });\n  }\n\n  return params.join('&');\n};\n\nfunction setIndex(current, index) {\n  current['$index'] = this.start + index + 1;\n\n  return current;\n}\n\nfunction sort(a, b) {\n  var rel = this.rel;\n\n  if (rel in a && rel in b) {\n    var first = typeof a[rel] === 'number' ? a[rel] : a[rel].toString().toLowerCase();\n    var second = typeof b[rel] === 'number' ? b[rel] : b[rel].toString().toLowerCase();\n\n    if (first < second) {\n      return this.asc ? -1 : 1;\n    } else if (first > second) {\n      return this.asc ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n\nexports.canInput = canInput;\nexports.getBoolOrLowerCase = getBoolOrLowerCase;\nexports.getUrlParams = getUrlParams;\nexports.setIndex = setIndex;\nexports.sort = sort;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar context = __webpack_require__(3);\n\ncontext.keys().map(context);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./rdata-display.tag\": 4,\n\t\"./rdata-filter.tag\": 5,\n\t\"./rdata-order.tag\": 6,\n\t\"./rdata-paginator.tag\": 7,\n\t\"./rdata.tag\": 8\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(0)\n    riot.tag2('rdata-display', '<yield></yield> <option if=\"{auto}\" each=\"{display in displays}\" riot-value=\"{display}\">{display}</option>', '', 'onchange=\"{change}\"', function(opts) {\n'use strict';\n\nvar self = this;\n\nself.auto = false;\n\nself.change = function (e) {\n  self.parent.trigger('display', parseInt(e.target.value, 10)).update();\n};\n\nself.parent.on('display', function (display) {\n  if (self.isMounted) {\n    self.root.value = display;\n  } else {\n    self.on('mount', function () {\n      self.root.value = display;\n    });\n  }\n});\n\nself.on('mount', function () {\n  if (self.root.childElementCount === 0) {\n    self.update({\n      displays: self.parent.opts.defaultDisplays || [10, 25, 50, 100],\n      auto: true\n    });\n  }\n});\n\nself.on('update', function () {\n  //console.log('self.root.value', self.root.value);\n});\n});\n\n    \n  \n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(0)\n    riot.tag2('rdata-filter', '<yield></yield>', '', '', function(opts) {\n'use strict';\n\nvar _helper = __webpack_require__(1);\n\nvar self = this;\nvar delay = 500;\n\nvar query = (0, _helper.canInput)(self.root) ? '' : [];\nvar timeout = 0;\n\nsetQuery();\n\nself.parent.on('filter', filter);\n\nself.on('mount', function () {\n  //console.log('montando filtro\"');\n  if ((0, _helper.canInput)(self.root)) {\n    self.root.addEventListener('input', oninput, false);\n  } else {\n    self.root.addEventListener('change', onchange, false);\n  }\n});\n\nself.on('before-unmount', function () {\n  self.parent.off('filter', filter);\n});\n\nself.on('unmount', function () {\n  if (query.length > 0) {\n    if (Array.isArray(query)) {\n      query.length = 0;\n    } else {\n      query = '';\n    }\n\n    setTimeout(done);\n  }\n});\n\nfunction filter() {\n  if (query.length > 0) {\n    var isAny = !self.opts.rel || self.opts.rel === ':';\n\n    if (self.parent.isRemote()) {\n      if (!Array.isArray(query)) {\n        if (isAny) {\n          if (self.parent.filters.has(':')) {\n            self.parent.filters.get(':').push(query);\n          } else {\n            self.parent.filters.set(':', [query]);\n          }\n        } else {\n          self.parent.filters.set(self.opts.rel, query);\n        }\n      } else if (!isAny) {\n        if (self.root.tagName === 'SELECT' && self.root.multiple) {\n          if (self.parent.filters.has(self.opts.rel)) {\n            self.parent.filters.get(self.opts.rel).length = 0;\n          }\n\n          self.parent.filters.set(self.opts.rel, query);\n        } else {\n          var val = query[0];\n\n          if (val !== false) {\n            self.parent.filters.set(self.opts.rel, val);\n          }\n        }\n      }\n    } else {\n      if (typeof self.opts.onfilter === 'function') {\n        self.parent.filtered = self.parent.filtered.filter(self.opts.onfilter.bind(self.root));\n      } else {\n        var caseSensitive = self.opts.caseSensitive !== undefined && self.opts.caseSensitive !== false;\n\n        if (!Array.isArray(query)) {\n          self.parent.filtered = self.parent.filtered.filter(function (item) {\n            if (isAny) {\n              var found = Object.values(item).find(function (val) {\n                if (caseSensitive) {\n                  return val.toString().includes(query);\n                } else {\n                  return val.toString().toLowerCase().includes(query.toLowerCase());\n                }\n              });\n\n              return found !== undefined;\n            } else if (self.opts.rel in item) {\n              if (item[self.opts.rel] !== null) {\n                if (caseSensitive) {\n                  return item[self.opts.rel].toString().includes(query);\n                } else {\n                  return item[self.opts.rel].toString().toLowerCase().includes(query.toLowerCase());\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return true;\n            }\n          });\n        } else if (!isAny) {\n          self.parent.filtered = self.parent.filtered.filter(function (item) {\n            if (self.opts.rel in item) {\n              if (item[self.opts.rel] !== null) {\n                var _val = typeof item[self.opts.rel] === 'boolean' ? item[self.opts.rel] : item[self.opts.rel].toString();\n\n                if (caseSensitive) {\n                  return query.indexOf(_val) > -1;\n                } else {\n                  return query.map(function (q) {\n                    return (0, _helper.getBoolOrLowerCase)(q);\n                  }).indexOf((0, _helper.getBoolOrLowerCase)(_val)) > -1;\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return true;\n            }\n          });\n        }\n      }\n    }\n  }\n}\n\nfunction setQuery() {\n  if (Array.isArray(query)) {\n    query.length = 0;\n\n    if (!self.isMounted && self.opts.initialValue !== undefined) {\n      if (Array.isArray(self.opts.initialValue)) {\n        query = self.opts.initialValue;\n      } else {\n        query.push(self.opts.initialValue);\n      }\n    } else {\n      if (self.root.tagName === 'SELECT' && self.root.multiple) {\n        query = Array.prototype.filter.call(self.root.querySelectorAll('option'), function (option) {\n          return option.selected && option.value.length > 0;\n        }).map(function (option) {\n          return option.value;\n        });\n      } else if (self.root.tagName === 'INPUT' && self.root.type === 'checkbox') {\n        query.push(self.root.checked);\n      } else if (self.root.value.length > 0) {\n        query.push(self.root.value.toString());\n      }\n    }\n  } else {\n    query = self.root.value.trim();\n  }\n}\n\nfunction onchange(e) {\n  setQuery();\n  done();\n}\n\nfunction oninput(e) {\n  if (e.target.value.trim() !== query) {\n    setQuery();\n\n    timeout && clearTimeout(timeout);\n\n    timeout = setTimeout(function () {\n      timeout = 0;\n\n      done();\n    }, delay);\n  }\n}\n\nfunction done() {\n  if (!self.parent.isRemote()) {\n    self.parent.filtered.length = 0;\n    self.parent.filtered = [].concat(self.parent.opts.data);\n  }\n\n  self.parent.trigger('filter').trigger('filtered');\n  self.parent.update();\n}\n});\n\n    \n  \n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(0)\n    riot.tag2('rdata-order', '<yield></yield>', 'rdata-order,[data-is=\"rdata-order\"]{ cursor: pointer; } rdata-order:after,[data-is=\"rdata-order\"]:after{ font-family: \\'icomoon\\'; content: \"\\\\e902\"; margin-left: .5rem; } rdata-order[desc]:after,[data-is=\"rdata-order\"][desc]:after{ content: \"\\\\e900\"; } rdata-order[asc]:after,[data-is=\"rdata-order\"][asc]:after{ content: \"\\\\e901\"; }', 'onclick=\"{toggle}\" asc=\"{asc}\" desc=\"{desc}\"', function(opts) {\n'use strict';\n\nvar self = this;\n\nvar ignore = false;\n\nself.asc = self.opts.asc !== undefined && self.opts.asc !== false;\nself.desc = self.opts.desc !== undefined && self.opts.desc !== false && !self.asc;\n\nif (self.asc || self.desc) {\n  emit();\n}\n\n//console.log('self.asc', self.asc, 'self.desc', self.desc);\n\nself.toggle = function (e) {\n  if (!self.asc) {\n    self.asc = true;\n    self.desc = false;\n  } else {\n    self.asc = false;\n    self.desc = true;\n  }\n\n  emit();\n\n  self.parent.update();\n\n  e.preventDefault();\n};\n\nself.on('before-unmount', function () {\n  self.parent.off('order', order);\n\n  emit(true);\n});\n\nself.parent.on('order', order);\n\nfunction emit() {\n  var unmount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ignore = true;\n\n  if (!unmount) {\n    self.parent.trigger('order', getRel(), self.asc, self.desc);\n  } else if (self.parent.order && self.parent.order.rel && self.parent.order.rel === getRel()) {\n    self.parent.trigger('order', null);\n  }\n\n  ignore = false;\n}\n\nfunction getRel() {\n  return typeof self.opts.onorder === 'function' ? self.opts.onorder : self.opts.rel;\n}\n\nfunction order() {\n  var rel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var asc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var desc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (!ignore) {\n    self.update({\n      asc: false,\n      desc: false\n    });\n  }\n}\n});\n\n    \n  \n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(0)\n    riot.tag2('rdata-paginator', '<yield></yield> <span if=\"{auto}\"> <span each=\"{page in pages}\"> <span if=\"{!isNaN(page)}\"> <span if=\"{parent.isCurrent(page)}\">{page}</span> <a href=\"#\" if=\"{!parent.isCurrent(page)}\" onclick=\"{parent.go}\">{page}</a> </span> <span if=\"{isNaN(page)}\">...</span> </span> </span>', '', '', function(opts) {\n'use strict';\n\nvar self = this;\n\nself.pages = [1];\nself.current = 1;\nself.auto = false;\n//console.log('ejecutando paginator', self.parent.rows, self.parent.display);\n\nself.canNext = function () {\n  return self.current < self.count;\n};\n\nself.canPrev = function () {\n  return self.current > 1;\n};\n\nself.first = function (e) {\n  if (self.current > 1) {\n    self.go(1);\n  }\n\n  e.preventDefault();\n};\n\nself.go = function (e) {\n  if (isNaN(e)) {\n    e.preventDefault();\n\n    if ('item' in e) {\n      e = e.item[Object.keys(e.item).shift()];\n    }\n  }\n\n  if (!isNaN(e)) {\n    self.parent.trigger('paginate', e);\n    self.parent.update();\n  }\n};\n\nself.isCurrent = function (page) {\n  return self.current === page;\n};\n\nself.last = function (e) {\n  if (self.current < self.count) {\n    self.go(self.count);\n  }\n\n  e.preventDefault();\n};\n\nself.next = function (e) {\n  if (self.canNext()) {\n    self.go(self.current + 1);\n  }\n\n  e.preventDefault();\n};\n\nself.prev = function (e) {\n  if (self.canPrev()) {\n    self.go(self.current - 1);\n  }\n\n  e.preventDefault();\n};\n\nself.parent.on('paginate', function (page) {\n  self.current = page;\n  //self.update();\n});\n\nself.on('mount', function () {\n  if (self.root.childElementCount === 0) {\n    self.auto = true;\n  }\n\n  self.update();\n});\n\nself.on('update', function () {\n  self.count = self.parent.rows > 0 ? Math.ceil(self.parent.rows / self.parent.display) : 1;\n  self.pages.length = 0;\n\n  if (self.count < 8) {\n    self.pages = Array.apply(null, Array(self.count)).map(function (item, index) {\n      return index + 1;\n    });\n  } else {\n    self.pages.push(1);\n\n    if (self.current <= 4) {\n      self.pages.push(2, 3, 4, 5);\n    }\n\n    if (self.current > 4 && self.current < self.count - 3) {\n      self.pages.push('left', self.current - 1, self.current, self.current + 1);\n    }\n\n    if (self.current > self.count - 4) {\n      self.pages.push('left', self.count - 4, self.count - 3, self.count - 2, self.count - 1);\n    }\n\n    if (self.current < self.count - 3) {\n      self.pages.push('right');\n    }\n\n    self.pages.push(self.count);\n  }\n});\n});\n\n    \n  \n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(0)\n    riot.tag2('rdata', '<yield></yield>', '@font-face { font-family: \\'icomoon\\'; src: url(\\'data:application/font-woff;base64,d09GRgABAAAAAAWAAAsAAAAABTQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIEY2NtYXAAAAFoAAAAVAAAAFQXVtKJZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAWwAAAFspwNI62hlYWQAAAMwAAAANgAAADYNG4+caGhlYQAAA2gAAAAkAAAAJAYLA8hobXR4AAADjAAAABwAAAAcDNsAAGxvY2EAAAOoAAAAEAAAABAAlgEQbWF4cAAAA7gAAAAgAAAAIAAKAC5uYW1lAAAD2AAAAYYAAAGGmUoJ+3Bvc3QAAAVgAAAAIAAAACAAAwAAAAMCNwGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkC//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAgACSQNJABUAAAEUBiMhIiY1NDY3AT4BMzIWFwEeARUCSRUP/gAPFgYFAQAFDQgHDQUBAAUGAiUPFhYPBw0FAQAFBgYF/wAFDQcAAAABAAAAJQJJAW4AFQAAARQGBwEOASMiJicBLgE1NDYzITIWFQJJBgX/AAUNBwgNBf8ABQYWDwIADxUBSQcNBv8ABQUFBQEABg0HDxYWDwAAAAIAAAAlAkkDSQAVACsAAAEUBgcBDgEjIiYnAS4BNTQ2MyEyFhU1FAYjISImNTQ2NwE+ATMyFhcBHgEVAkkGBf8ABQ0HCA0F/wAFBhYPAgAPFRUP/gAPFgYFAQAFDQgHDQUBAAUGAUkHDQb/AAUFBQUBAAYNBw8WFg/cDxYWDwcNBQEABQYGBf8ABQ0HAAAAAAEAAAAAAAAvgJrHXw889QALBAAAAAAA1dqlqwAAAADV2qWrAAAAAAJJA0kAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAAkkAAQAAAAAAAAAAAAAAAAAAAAcEAAAAAAAAAAAAAAACAAAAAkkAAAJJAAACSQAAAAAAAAAKABQAHgBGAG4AtgABAAAABwAsAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\\') format(\\'woff\\'); font-weight: normal; font-style: normal; }', '', function(opts) {\n'use strict';\n\nvar _helper = __webpack_require__(1);\n\nvar self = this;\n\nvar event = null;\nvar request = null;\n\nself.page = 1;\nself.data = [];\nself.start = 0;\nself.display = self.opts.display || 10;\nself.order = null;\n\nif (self.opts.url !== undefined) {\n  self.filtered = [];\n  self.loading = true;\n  self.filters = new Map();\n  self.extra = {};\n} else {\n  self.filtered = [].concat(self.opts.data);\n  self.loading = false;\n}\n\nself.rows = self.filtered.length;\nself.getRows = function (singular, plural) {\n  var separator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ' ';\n  return self.rows.toString().concat(separator, self.rows === 1 ? singular : plural);\n};\nself.isRemote = function () {\n  return self.opts.url !== undefined;\n};\n\nself.on('display', function (display) {\n  event = 'display';\n\n  self.display = display;\n  self.start = self.display * (self.page - 1);\n  //console.log('%cSe lanza loadUrl desde display', 'background:white;color:red');\n  //isRemote() && loadUrl();\n});\n\nself.on('filter', function () {\n  event = 'filter';\n\n  self.isRemote() && self.filters.clear();\n});\n\nself.on('mount', function () {\n  self.trigger('display', self.display);\n  self.trigger('filter');\n\n  event = null;\n\n  self.on('display', loadUrl);\n  self.on('paginate', loadUrl);\n  self.on('filtered', loadUrl);\n\n  self.update();\n});\n\nself.on('order', function () {\n  var rel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var asc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var desc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  event = 'order';\n\n  if (rel !== null) {\n    self.order = { rel: rel, asc: asc, desc: desc };\n  } else {\n    self.order = null;\n  }\n});\n\nself.on('paginate', function (page) {\n  //console.log('Página cambiada!', page);\n  event = 'paginate';\n\n  self.page = page;\n  self.start = self.display * (self.page - 1);\n\n  //console.log('%cSe lanza loadUrl desde paginate', 'background:white;color:red');\n  //isRemote() && loadUrl();\n});\n\nself.on('update', function () {\n  //console.log('%cActualizando', 'background:purple;color:white', 'event', event, 'start', self.start, 'display', self.display);\n  if (self.isRemote()) {\n    if (event === 'url') {\n      if (self.opts.indexed) {\n        self.data.forEach(_helper.setIndex.bind(self));\n        self.loading = false;\n      }\n    } else if (event === 'order' && self.order !== null || self.loading && request === null) {\n      //console.log('%cSe lanza loadUrl desde UPDATE', 'background:white;color:red');\n      loadUrl();\n    }\n  } else {\n    if ((event === 'order' || event === null) && self.order !== null) {\n      //console.log('Se debe ordernar los datos', self.order);\n\n      self.opts.data.sort(typeof self.order.rel === 'function' ? self.order.rel.bind(self.order) : _helper.sort.bind(self.order));\n\n      self.filtered.length = 0;\n      self.filtered = [].concat(self.opts.data);\n\n      self.trigger('filter');\n    }\n\n    self.rows = self.filtered.length;\n    self.data.length = 0;\n\n    if (self.start > self.rows && self.page > 1) {\n      setLastPage();\n    } else {\n      if (self.opts.indexed) {\n        self.data = self.filtered.slice(self.start, self.start + self.display).map(_helper.setIndex.bind(self));\n      } else {\n        self.data = self.filtered.slice(self.start, self.start + self.display);\n      }\n    }\n  }\n\n  event = null;\n});\n\nfunction loadUrl() {\n  //console.log('Se llama a loadUrl');\n  self.loading = true;\n\n  if (typeof self.opts.url === 'string') {\n    request && request.readyState < 4 && request.abort();\n\n    //console.log('Cargando URL', `${self.opts.url}?${getUrlParams.bind(self).call()}`);\n\n    request = new XMLHttpRequest();\n    request.open('GET', self.opts.url + '?' + _helper.getUrlParams.bind(self).call(), true);\n    request.responseType = 'json';\n\n    request.onload = function () {\n      var response = request.response;\n      //console.log('Ajax response', response);\n      //console.log('response.total_count', response.total_count, 'start', self.start);\n\n      request = null;\n\n      if (!response) {\n        event = 'url';\n\n        delete self.extra;\n\n        self.data.length = 0;\n        self.extra = {};\n\n        self.update({ rows: 0 });\n      } else if (self.start > response.total_count) {\n        self.rows = response.total_count;\n\n        setLastPage();\n      } else {\n        event = 'url';\n\n        delete self.extra;\n\n        self.data.length = 0;\n        self.extra = response.extra || {};\n\n        self.update({\n          rows: response.total_count,\n          data: response.items\n        });\n      }\n    };\n\n    request.send();\n  } else if (typeof self.opts.url === 'function') {\n    self.opts.url.call(self, _helper.getUrlParams.bind(self).call()).then(function (response) {\n      if (self.start > response.total_count) {\n        self.rows = response.total_count;\n\n        setLastPage();\n      } else {\n        event = 'url';\n\n        delete self.extra;\n\n        self.data.length = 0;\n        self.extra = response.extra || {};\n\n        self.update({\n          rows: response.total_count,\n          data: response.items\n        });\n      }\n    });\n  }\n}\n\nfunction setLastPage() {\n  self.trigger('paginate', self.rows > 0 ? Math.ceil(self.rows / self.display) : 1);\n  self.update();\n}\n});\n\n    \n  \n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// rdata.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0f497dc3d0a06c9119f3","module.exports = riot;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"riot\"\n// module id = 0\n// module chunks = 0","function canInput(element) {\n  return element.tagName === 'INPUT' && ['email', 'number', 'password', 'search', 'tel', 'text', 'url'].indexOf(element.type) > -1;\n}\n\nfunction getBoolOrLowerCase(val) {\n  return typeof val === 'boolean' ? val : val.toString().toLowerCase();\n}\n\nfunction getUrlParams() {\n  let params = [`page=${this.page}`, `display=${this.display}`];\n\n  if (this.order !== null) {\n    params.push('order=' + encodeURIComponent(`${this.order.rel} ${this.order.asc ? 'asc' : 'desc'}`));\n  }\n\n  if (this.filters.size > 0) {\n    this.filters.forEach((val, key) => {\n      if (Array.isArray(val)) {\n        params.push(`filters[][${encodeURIComponent(key)}][]=` + val.map(encodeURIComponent).join(`&filters[][${encodeURIComponent(key)}][]=`));\n      } else {\n        params.push(`filters[][${encodeURIComponent(key)}]` + (val === true ? '' : `=${encodeURIComponent(val)}`));\n      }\n    });\n  }\n\n  return params.join('&');\n};\n\nfunction setIndex(current, index) {\n  current['$index'] = this.start + index + 1;\n\n  return current;\n}\n\nfunction sort(a, b) {\n  let rel = this.rel;\n\n  if (rel in a && rel in b) {\n    let first = typeof a[rel] === 'number' ? a[rel] : a[rel].toString().toLowerCase();\n    let second = typeof b[rel] === 'number' ? b[rel] : b[rel].toString().toLowerCase();\n\n    if (first < second) {\n      return this.asc ? -1 : 1;\n    } else if (first > second) {\n      return this.asc ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n\nexport {canInput, getBoolOrLowerCase, getUrlParams, setIndex, sort};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helper.js","const context = require.context('./tags/', false, /\\.tag$/);\n\ncontext.keys().map(context);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var map = {\n\t\"./rdata-display.tag\": 4,\n\t\"./rdata-filter.tag\": 5,\n\t\"./rdata-order.tag\": 6,\n\t\"./rdata-paginator.tag\": 7,\n\t\"./rdata.tag\": 8\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tags nonrecursive \\.tag$\n// module id = 3\n// module chunks = 0","\n    var riot = require('riot')\n    riot.tag2('rdata-display', '<yield></yield> <option if=\"{auto}\" each=\"{display in displays}\" riot-value=\"{display}\">{display}</option>', '', 'onchange=\"{change}\"', function(opts) {\n'use strict';\n\nvar self = this;\n\nself.auto = false;\n\nself.change = function (e) {\n  self.parent.trigger('display', parseInt(e.target.value, 10)).update();\n};\n\nself.parent.on('display', function (display) {\n  if (self.isMounted) {\n    self.root.value = display;\n  } else {\n    self.on('mount', function () {\n      self.root.value = display;\n    });\n  }\n});\n\nself.on('mount', function () {\n  if (self.root.childElementCount === 0) {\n    self.update({\n      displays: self.parent.opts.defaultDisplays || [10, 25, 50, 100],\n      auto: true\n    });\n  }\n});\n\nself.on('update', function () {\n  //console.log('self.root.value', self.root.value);\n});\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tags/rdata-display.tag\n// module id = 4\n// module chunks = 0","\n    var riot = require('riot')\n    riot.tag2('rdata-filter', '<yield></yield>', '', '', function(opts) {\n'use strict';\n\nvar _helper = require('../helper.js');\n\nvar self = this;\nvar delay = 500;\n\nvar query = (0, _helper.canInput)(self.root) ? '' : [];\nvar timeout = 0;\n\nsetQuery();\n\nself.parent.on('filter', filter);\n\nself.on('mount', function () {\n  //console.log('montando filtro\"');\n  if ((0, _helper.canInput)(self.root)) {\n    self.root.addEventListener('input', oninput, false);\n  } else {\n    self.root.addEventListener('change', onchange, false);\n  }\n});\n\nself.on('before-unmount', function () {\n  self.parent.off('filter', filter);\n});\n\nself.on('unmount', function () {\n  if (query.length > 0) {\n    if (Array.isArray(query)) {\n      query.length = 0;\n    } else {\n      query = '';\n    }\n\n    setTimeout(done);\n  }\n});\n\nfunction filter() {\n  if (query.length > 0) {\n    var isAny = !self.opts.rel || self.opts.rel === ':';\n\n    if (self.parent.isRemote()) {\n      if (!Array.isArray(query)) {\n        if (isAny) {\n          if (self.parent.filters.has(':')) {\n            self.parent.filters.get(':').push(query);\n          } else {\n            self.parent.filters.set(':', [query]);\n          }\n        } else {\n          self.parent.filters.set(self.opts.rel, query);\n        }\n      } else if (!isAny) {\n        if (self.root.tagName === 'SELECT' && self.root.multiple) {\n          if (self.parent.filters.has(self.opts.rel)) {\n            self.parent.filters.get(self.opts.rel).length = 0;\n          }\n\n          self.parent.filters.set(self.opts.rel, query);\n        } else {\n          var val = query[0];\n\n          if (val !== false) {\n            self.parent.filters.set(self.opts.rel, val);\n          }\n        }\n      }\n    } else {\n      if (typeof self.opts.onfilter === 'function') {\n        self.parent.filtered = self.parent.filtered.filter(self.opts.onfilter.bind(self.root));\n      } else {\n        var caseSensitive = self.opts.caseSensitive !== undefined && self.opts.caseSensitive !== false;\n\n        if (!Array.isArray(query)) {\n          self.parent.filtered = self.parent.filtered.filter(function (item) {\n            if (isAny) {\n              var found = Object.values(item).find(function (val) {\n                if (caseSensitive) {\n                  return val.toString().includes(query);\n                } else {\n                  return val.toString().toLowerCase().includes(query.toLowerCase());\n                }\n              });\n\n              return found !== undefined;\n            } else if (self.opts.rel in item) {\n              if (item[self.opts.rel] !== null) {\n                if (caseSensitive) {\n                  return item[self.opts.rel].toString().includes(query);\n                } else {\n                  return item[self.opts.rel].toString().toLowerCase().includes(query.toLowerCase());\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return true;\n            }\n          });\n        } else if (!isAny) {\n          self.parent.filtered = self.parent.filtered.filter(function (item) {\n            if (self.opts.rel in item) {\n              if (item[self.opts.rel] !== null) {\n                var _val = typeof item[self.opts.rel] === 'boolean' ? item[self.opts.rel] : item[self.opts.rel].toString();\n\n                if (caseSensitive) {\n                  return query.indexOf(_val) > -1;\n                } else {\n                  return query.map(function (q) {\n                    return (0, _helper.getBoolOrLowerCase)(q);\n                  }).indexOf((0, _helper.getBoolOrLowerCase)(_val)) > -1;\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return true;\n            }\n          });\n        }\n      }\n    }\n  }\n}\n\nfunction setQuery() {\n  if (Array.isArray(query)) {\n    query.length = 0;\n\n    if (!self.isMounted && self.opts.initialValue !== undefined) {\n      if (Array.isArray(self.opts.initialValue)) {\n        query = self.opts.initialValue;\n      } else {\n        query.push(self.opts.initialValue);\n      }\n    } else {\n      if (self.root.tagName === 'SELECT' && self.root.multiple) {\n        query = Array.prototype.filter.call(self.root.querySelectorAll('option'), function (option) {\n          return option.selected && option.value.length > 0;\n        }).map(function (option) {\n          return option.value;\n        });\n      } else if (self.root.tagName === 'INPUT' && self.root.type === 'checkbox') {\n        query.push(self.root.checked);\n      } else if (self.root.value.length > 0) {\n        query.push(self.root.value.toString());\n      }\n    }\n  } else {\n    query = self.root.value.trim();\n  }\n}\n\nfunction onchange(e) {\n  setQuery();\n  done();\n}\n\nfunction oninput(e) {\n  if (e.target.value.trim() !== query) {\n    setQuery();\n\n    timeout && clearTimeout(timeout);\n\n    timeout = setTimeout(function () {\n      timeout = 0;\n\n      done();\n    }, delay);\n  }\n}\n\nfunction done() {\n  if (!self.parent.isRemote()) {\n    self.parent.filtered.length = 0;\n    self.parent.filtered = [].concat(self.parent.opts.data);\n  }\n\n  self.parent.trigger('filter').trigger('filtered');\n  self.parent.update();\n}\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tags/rdata-filter.tag\n// module id = 5\n// module chunks = 0","\n    var riot = require('riot')\n    riot.tag2('rdata-order', '<yield></yield>', 'rdata-order,[data-is=\"rdata-order\"]{ cursor: pointer; } rdata-order:after,[data-is=\"rdata-order\"]:after{ font-family: \\'icomoon\\'; content: \"\\\\e902\"; margin-left: .5rem; } rdata-order[desc]:after,[data-is=\"rdata-order\"][desc]:after{ content: \"\\\\e900\"; } rdata-order[asc]:after,[data-is=\"rdata-order\"][asc]:after{ content: \"\\\\e901\"; }', 'onclick=\"{toggle}\" asc=\"{asc}\" desc=\"{desc}\"', function(opts) {\n'use strict';\n\nvar self = this;\n\nvar ignore = false;\n\nself.asc = self.opts.asc !== undefined && self.opts.asc !== false;\nself.desc = self.opts.desc !== undefined && self.opts.desc !== false && !self.asc;\n\nif (self.asc || self.desc) {\n  emit();\n}\n\n//console.log('self.asc', self.asc, 'self.desc', self.desc);\n\nself.toggle = function (e) {\n  if (!self.asc) {\n    self.asc = true;\n    self.desc = false;\n  } else {\n    self.asc = false;\n    self.desc = true;\n  }\n\n  emit();\n\n  self.parent.update();\n\n  e.preventDefault();\n};\n\nself.on('before-unmount', function () {\n  self.parent.off('order', order);\n\n  emit(true);\n});\n\nself.parent.on('order', order);\n\nfunction emit() {\n  var unmount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ignore = true;\n\n  if (!unmount) {\n    self.parent.trigger('order', getRel(), self.asc, self.desc);\n  } else if (self.parent.order && self.parent.order.rel && self.parent.order.rel === getRel()) {\n    self.parent.trigger('order', null);\n  }\n\n  ignore = false;\n}\n\nfunction getRel() {\n  return typeof self.opts.onorder === 'function' ? self.opts.onorder : self.opts.rel;\n}\n\nfunction order() {\n  var rel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var asc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var desc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (!ignore) {\n    self.update({\n      asc: false,\n      desc: false\n    });\n  }\n}\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tags/rdata-order.tag\n// module id = 6\n// module chunks = 0","\n    var riot = require('riot')\n    riot.tag2('rdata-paginator', '<yield></yield> <span if=\"{auto}\"> <span each=\"{page in pages}\"> <span if=\"{!isNaN(page)}\"> <span if=\"{parent.isCurrent(page)}\">{page}</span> <a href=\"#\" if=\"{!parent.isCurrent(page)}\" onclick=\"{parent.go}\">{page}</a> </span> <span if=\"{isNaN(page)}\">...</span> </span> </span>', '', '', function(opts) {\n'use strict';\n\nvar self = this;\n\nself.pages = [1];\nself.current = 1;\nself.auto = false;\n//console.log('ejecutando paginator', self.parent.rows, self.parent.display);\n\nself.canNext = function () {\n  return self.current < self.count;\n};\n\nself.canPrev = function () {\n  return self.current > 1;\n};\n\nself.first = function (e) {\n  if (self.current > 1) {\n    self.go(1);\n  }\n\n  e.preventDefault();\n};\n\nself.go = function (e) {\n  if (isNaN(e)) {\n    e.preventDefault();\n\n    if ('item' in e) {\n      e = e.item[Object.keys(e.item).shift()];\n    }\n  }\n\n  if (!isNaN(e)) {\n    self.parent.trigger('paginate', e);\n    self.parent.update();\n  }\n};\n\nself.isCurrent = function (page) {\n  return self.current === page;\n};\n\nself.last = function (e) {\n  if (self.current < self.count) {\n    self.go(self.count);\n  }\n\n  e.preventDefault();\n};\n\nself.next = function (e) {\n  if (self.canNext()) {\n    self.go(self.current + 1);\n  }\n\n  e.preventDefault();\n};\n\nself.prev = function (e) {\n  if (self.canPrev()) {\n    self.go(self.current - 1);\n  }\n\n  e.preventDefault();\n};\n\nself.parent.on('paginate', function (page) {\n  self.current = page;\n  //self.update();\n});\n\nself.on('mount', function () {\n  if (self.root.childElementCount === 0) {\n    self.auto = true;\n  }\n\n  self.update();\n});\n\nself.on('update', function () {\n  self.count = self.parent.rows > 0 ? Math.ceil(self.parent.rows / self.parent.display) : 1;\n  self.pages.length = 0;\n\n  if (self.count < 8) {\n    self.pages = Array.apply(null, Array(self.count)).map(function (item, index) {\n      return index + 1;\n    });\n  } else {\n    self.pages.push(1);\n\n    if (self.current <= 4) {\n      self.pages.push(2, 3, 4, 5);\n    }\n\n    if (self.current > 4 && self.current < self.count - 3) {\n      self.pages.push('left', self.current - 1, self.current, self.current + 1);\n    }\n\n    if (self.current > self.count - 4) {\n      self.pages.push('left', self.count - 4, self.count - 3, self.count - 2, self.count - 1);\n    }\n\n    if (self.current < self.count - 3) {\n      self.pages.push('right');\n    }\n\n    self.pages.push(self.count);\n  }\n});\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tags/rdata-paginator.tag\n// module id = 7\n// module chunks = 0","\n    var riot = require('riot')\n    riot.tag2('rdata', '<yield></yield>', '@font-face { font-family: \\'icomoon\\'; src: url(\\'data:application/font-woff;base64,d09GRgABAAAAAAWAAAsAAAAABTQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIEY2NtYXAAAAFoAAAAVAAAAFQXVtKJZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAWwAAAFspwNI62hlYWQAAAMwAAAANgAAADYNG4+caGhlYQAAA2gAAAAkAAAAJAYLA8hobXR4AAADjAAAABwAAAAcDNsAAGxvY2EAAAOoAAAAEAAAABAAlgEQbWF4cAAAA7gAAAAgAAAAIAAKAC5uYW1lAAAD2AAAAYYAAAGGmUoJ+3Bvc3QAAAVgAAAAIAAAACAAAwAAAAMCNwGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6QIDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOkC//3//wAAAAAAIOkA//3//wAB/+MXBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAgACSQNJABUAAAEUBiMhIiY1NDY3AT4BMzIWFwEeARUCSRUP/gAPFgYFAQAFDQgHDQUBAAUGAiUPFhYPBw0FAQAFBgYF/wAFDQcAAAABAAAAJQJJAW4AFQAAARQGBwEOASMiJicBLgE1NDYzITIWFQJJBgX/AAUNBwgNBf8ABQYWDwIADxUBSQcNBv8ABQUFBQEABg0HDxYWDwAAAAIAAAAlAkkDSQAVACsAAAEUBgcBDgEjIiYnAS4BNTQ2MyEyFhU1FAYjISImNTQ2NwE+ATMyFhcBHgEVAkkGBf8ABQ0HCA0F/wAFBhYPAgAPFRUP/gAPFgYFAQAFDQgHDQUBAAUGAUkHDQb/AAUFBQUBAAYNBw8WFg/cDxYWDwcNBQEABQYGBf8ABQ0HAAAAAAEAAAAAAAAvgJrHXw889QALBAAAAAAA1dqlqwAAAADV2qWrAAAAAAJJA0kAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAAkkAAQAAAAAAAAAAAAAAAAAAAAcEAAAAAAAAAAAAAAACAAAAAkkAAAJJAAACSQAAAAAAAAAKABQAHgBGAG4AtgABAAAABwAsAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABwAAAAEAAAAAAAIABwBgAAEAAAAAAAMABwA2AAEAAAAAAAQABwB1AAEAAAAAAAUACwAVAAEAAAAAAAYABwBLAAEAAAAAAAoAGgCKAAMAAQQJAAEADgAHAAMAAQQJAAIADgBnAAMAAQQJAAMADgA9AAMAAQQJAAQADgB8AAMAAQQJAAUAFgAgAAMAAQQJAAYADgBSAAMAAQQJAAoANACkaWNvbW9vbgBpAGMAbwBtAG8AbwBuVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwaWNvbW9vbgBpAGMAbwBtAG8AbwBuaWNvbW9vbgBpAGMAbwBtAG8AbwBuUmVndWxhcgBSAGUAZwB1AGwAYQByaWNvbW9vbgBpAGMAbwBtAG8AbwBuRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\\') format(\\'woff\\'); font-weight: normal; font-style: normal; }', '', function(opts) {\n'use strict';\n\nvar _helper = require('../helper.js');\n\nvar self = this;\n\nvar event = null;\nvar request = null;\n\nself.page = 1;\nself.data = [];\nself.start = 0;\nself.display = self.opts.display || 10;\nself.order = null;\n\nif (self.opts.url !== undefined) {\n  self.filtered = [];\n  self.loading = true;\n  self.filters = new Map();\n  self.extra = {};\n} else {\n  self.filtered = [].concat(self.opts.data);\n  self.loading = false;\n}\n\nself.rows = self.filtered.length;\nself.getRows = function (singular, plural) {\n  var separator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ' ';\n  return self.rows.toString().concat(separator, self.rows === 1 ? singular : plural);\n};\nself.isRemote = function () {\n  return self.opts.url !== undefined;\n};\n\nself.on('display', function (display) {\n  event = 'display';\n\n  self.display = display;\n  self.start = self.display * (self.page - 1);\n  //console.log('%cSe lanza loadUrl desde display', 'background:white;color:red');\n  //isRemote() && loadUrl();\n});\n\nself.on('filter', function () {\n  event = 'filter';\n\n  self.isRemote() && self.filters.clear();\n});\n\nself.on('mount', function () {\n  self.trigger('display', self.display);\n  self.trigger('filter');\n\n  event = null;\n\n  self.on('display', loadUrl);\n  self.on('paginate', loadUrl);\n  self.on('filtered', loadUrl);\n\n  self.update();\n});\n\nself.on('order', function () {\n  var rel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var asc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var desc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  event = 'order';\n\n  if (rel !== null) {\n    self.order = { rel: rel, asc: asc, desc: desc };\n  } else {\n    self.order = null;\n  }\n});\n\nself.on('paginate', function (page) {\n  //console.log('Página cambiada!', page);\n  event = 'paginate';\n\n  self.page = page;\n  self.start = self.display * (self.page - 1);\n\n  //console.log('%cSe lanza loadUrl desde paginate', 'background:white;color:red');\n  //isRemote() && loadUrl();\n});\n\nself.on('update', function () {\n  //console.log('%cActualizando', 'background:purple;color:white', 'event', event, 'start', self.start, 'display', self.display);\n  if (self.isRemote()) {\n    if (event === 'url') {\n      if (self.opts.indexed) {\n        self.data.forEach(_helper.setIndex.bind(self));\n        self.loading = false;\n      }\n    } else if (event === 'order' && self.order !== null || self.loading && request === null) {\n      //console.log('%cSe lanza loadUrl desde UPDATE', 'background:white;color:red');\n      loadUrl();\n    }\n  } else {\n    if ((event === 'order' || event === null) && self.order !== null) {\n      //console.log('Se debe ordernar los datos', self.order);\n\n      self.opts.data.sort(typeof self.order.rel === 'function' ? self.order.rel.bind(self.order) : _helper.sort.bind(self.order));\n\n      self.filtered.length = 0;\n      self.filtered = [].concat(self.opts.data);\n\n      self.trigger('filter');\n    }\n\n    self.rows = self.filtered.length;\n    self.data.length = 0;\n\n    if (self.start > self.rows && self.page > 1) {\n      setLastPage();\n    } else {\n      if (self.opts.indexed) {\n        self.data = self.filtered.slice(self.start, self.start + self.display).map(_helper.setIndex.bind(self));\n      } else {\n        self.data = self.filtered.slice(self.start, self.start + self.display);\n      }\n    }\n  }\n\n  event = null;\n});\n\nfunction loadUrl() {\n  //console.log('Se llama a loadUrl');\n  self.loading = true;\n\n  if (typeof self.opts.url === 'string') {\n    request && request.readyState < 4 && request.abort();\n\n    //console.log('Cargando URL', `${self.opts.url}?${getUrlParams.bind(self).call()}`);\n\n    request = new XMLHttpRequest();\n    request.open('GET', self.opts.url + '?' + _helper.getUrlParams.bind(self).call(), true);\n    request.responseType = 'json';\n\n    request.onload = function () {\n      var response = request.response;\n      //console.log('Ajax response', response);\n      //console.log('response.total_count', response.total_count, 'start', self.start);\n\n      request = null;\n\n      if (!response) {\n        event = 'url';\n\n        delete self.extra;\n\n        self.data.length = 0;\n        self.extra = {};\n\n        self.update({ rows: 0 });\n      } else if (self.start > response.total_count) {\n        self.rows = response.total_count;\n\n        setLastPage();\n      } else {\n        event = 'url';\n\n        delete self.extra;\n\n        self.data.length = 0;\n        self.extra = response.extra || {};\n\n        self.update({\n          rows: response.total_count,\n          data: response.items\n        });\n      }\n    };\n\n    request.send();\n  } else if (typeof self.opts.url === 'function') {\n    self.opts.url.call(self, _helper.getUrlParams.bind(self).call()).then(function (response) {\n      if (self.start > response.total_count) {\n        self.rows = response.total_count;\n\n        setLastPage();\n      } else {\n        event = 'url';\n\n        delete self.extra;\n\n        self.data.length = 0;\n        self.extra = response.extra || {};\n\n        self.update({\n          rows: response.total_count,\n          data: response.items\n        });\n      }\n    });\n  }\n}\n\nfunction setLastPage() {\n  self.trigger('paginate', self.rows > 0 ? Math.ceil(self.rows / self.display) : 1);\n  self.update();\n}\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tags/rdata.tag\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}